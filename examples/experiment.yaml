# SWE-Bench Plugin Efficiency Benchmark Configuration
# Example: Plugin Ablation Study
#
# This configuration compares different plugin configurations:
# 1. Baseline - All tools, no plugins
# 2. Read-only - Limited to read-only tools
# 3. With plugin - Example with a Claude Code plugin
#
# Usage:
#   swe-bench-harness --config examples/experiment.yaml
#   swe-bench-harness --config examples/experiment.yaml --dry-run

name: "plugin-ablation-study"

# Dataset configuration
dataset:
  # Dataset name: "lite", "full", "verified", or custom HuggingFace path
  # Shortcuts:
  #   - lite: princeton-nlp/SWE-bench_Lite
  #   - full: princeton-nlp/SWE-bench
  #   - verified: princeton-nlp/SWE-bench_Verified
  name: "lite"

  # Dataset split (simplified format)
  # Examples:
  #   - ":10"    - First 10 instances
  #   - "10:20"  - Instances 10-19
  #   - "20:"    - From index 20 to end
  split: ":10"

  # Local cache directory (optional, default: ~/.swe-bench-harness)
  # cache_dir: "~/.swe-bench-harness"

# Execution parameters
execution:
  # Number of repeated runs per instance (default: 1)
  # Increase for pass@k analysis
  runs: 1

  # Maximum concurrent benchmark executions
  max_parallel: 2

  # Timeout in seconds for each run (default: 900)
  timeout_sec: 600

# Claude model configuration
model:
  # Model identifier
  name: "claude-sonnet-4-5"

# Benchmark configurations to compare
# Each configuration runs against all instances
configs:
  # Baseline: All tools enabled, no plugins
  - name: "baseline"
    description: "All tools enabled, no plugins"
    # allowed_tools: null (default = all SDK tools)

  # Read-only: Limited to read-only tools
  - name: "read-only"
    description: "Read-only tools for safer execution"
    allowed_tools:
      - "Read"
      - "Glob"
      - "Grep"

  # Full Stack: All tools explicitly listed
  - name: "full-stack"
    description: "All available tools enabled"
    allowed_tools:
      - "Read"
      - "Write"
      - "Edit"
      - "Bash"
      - "Glob"
      - "Grep"

  # Example with plugin (commented out - uncomment to use)
  # - name: "with-context7"
  #   description: "With Context7 plugin for documentation lookup"
  #   plugins:
  #     - name: "context7"
  #       uri: "https://github.com/upstash/context7-mcp"
  #   envs:
  #     CONTEXT7_API_KEY: "${CONTEXT7_API_KEY}"

# Output directory for results
output_dir: "./results/ablation-study"
